<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Возможности Премиума</title>
  <style>
    body {
      background-color: darkblue;
      font-family: Arial, sans-serif;
      color: white;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 30px 20px;
      max-width: 600px;
      width: 90%;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    h2 {
      font-size: 2em;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      line-height: 1.3;
    }

    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    li {
      font-size: 1em;
      margin: 10px 0;
      background-color: rgba(255, 255, 255, 0.2);
      padding: 12px;
      border-radius: 10px;
      line-height: 1.4;
    }

    button {
      background-color: #FFD700;
      color: darkblue;
      border: none;
      padding: 12px 24px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.1s ease;
      width: 100%;
      max-width: 300px;
    }

    button:active {
      transform: scale(0.97);
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      padding: 15px;
    }

    .modal-content {
      background-color: rgba(0, 0, 139, 0.95);
      color: white;
      margin: auto;
      padding: 25px 20px;
      border-radius: 15px;
      width: 100%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: scale(0.9);}
      to {opacity: 1; transform: scale(1);}
    }

    .no-animations * {
      animation: none !important;
    }

    .close {
      color: rgba(255, 255, 255, 0.7);
      float: right;
      font-size: 28px;
      font-weight: bold;
      margin-top: -5px;
    }

    .close:focus {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }

    input[type="text"] {
      width: 100%;
      padding: 12px;
      margin: 15px 0;
      border: 1px solid rgba(255, 255, 255, 0.5);
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 1em;
      box-sizing: border-box;
    }

    input[type="text"]::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    a {
      color: #FFD700;
      text-decoration: none;
      word-break: break-all;
    }

    /* === МОБИЛЬНАЯ АДАПТАЦИЯ === */
    @media (max-width: 600px) {
      body {
        padding: 10px;
        align-items: flex-start;
      }

      .container {
        padding: 20px 15px;
        width: 100%;
        box-sizing: border-box;
      }

      h2 {
        font-size: 1.6em;
      }

      li {
        font-size: 0.95em;
        padding: 10px;
      }

      button {
        font-size: 1em;
        padding: 10px 18px;
      }

      .modal-content {
        padding: 20px;
        width: 95%;
      }

      input[type="text"] {
        font-size: 0.95em;
      }
    }

    @media (max-width: 360px) {
      h2 {
        font-size: 1.4em;
      }
      li {
        font-size: 0.85em;
      }
      button {
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <button id="backToMain" style="margin-bottom: 20px;">Вернуться в главное меню</button>

    <h2>Возможности премиума</h2>
    <ul>
      <li>1. Максимальное количество символов в генераторе "Описание" увеличевается с 200 до 1 000</li>
      <li>2. Максимальное количество символов в генераторе "Никнейм" увеличевается с 18 до 60</li>
      <li>3. Возможность делиться созданной музыкой в генераторе "Музыка"</li>
      <li>4. Возможность делиться созданной аватаркой в генераторе "Аватарка"</li>
      <li>5. Возможность делиться созданным QR-кодом</li>
      <li>6. Возможность загружать свой шрифт в генераторе "Аватарка"</li>
      <li>7. Возможность рисовать свою форму аватарки в генераторе "Аватарка"</li>
      <li>8. Обновление магазина будет происходить не каждые 2 минуты, а каждую 1 минуту в "Магазин"</li>
      <li>9. Возможность собирать пропущенные награды в разделе "Задания и награды"</li>
      <li id="premiumAction"><button id="buyPremium">Купить Премиум</button></li>
    </ul>
  </div>

  <div id="promoModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h3 id="modalTitle">Введите промокод</h3>
      <p id="buyInfo">Его можно купить у @Clickerstart_bot <a href="https://t.me/Clickerstart_bot">https://t.me/Clickerstart_bot</a></p>
      <input type="text" id="promoInput" placeholder="Промокод">
      <button id="submitPromo">Отправить</button>
    </div>
  </div>

  <script>
    // Функция для показа алертов в виде модального окна
    function showAlertModal(message) {
        let errorModal = document.getElementById('error-modal');
        let errorMessage = document.getElementById('error-message');
        let errorOkBtn = document.getElementById('error-ok-btn');
        
        // Если модального окна нет - создаем его
        if (!errorModal) {
            const style = document.createElement('style');
            style.textContent = `
                #error-modal {
                    display: none;
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.7);
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                }
                #error-modal.show {
                    display: flex;
                }
                #error-modal-content {
                    background: linear-gradient(180deg, #0d0870, #0b0862);
                    padding: 25px;
                    border-radius: 16px;
                    text-align: center;
                    max-width: 400px;
                    width: 90%;
                    border: 1px solid #5f57ff;
                    box-shadow: 0 0 30px rgba(95,87,255,0.3);
                }
                #error-message {
                    color: #e0e0ff;
                    margin-bottom: 20px;
                    word-wrap: break-word;
                }
                #error-ok-btn {
                    background: linear-gradient(180deg, #251897, #1b1280);
                    color: #d9d9d9;
                    border: 1px solid rgba(255,255,255,0.08);
                    padding: 10px 20px;
                    border-radius: 12px;
                    cursor: pointer;
                    font-size: 1rem;
                    font-weight: 600;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.35);
                }
            `;
            document.head.appendChild(style);
            
            const modalHtml = `
                <div id="error-modal" class="show">
                    <div id="error-modal-content">
                        <p id="error-message"></p>
                        <button id="error-ok-btn">OK</button>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHtml);
            
            errorModal = document.getElementById('error-modal');
            errorMessage = document.getElementById('error-message');
            errorOkBtn = document.getElementById('error-ok-btn');
        }
        
        // Показываем модальное окно
        errorMessage.textContent = message;
        errorModal.classList.add('show');
        
        errorOkBtn.onclick = () => {
            errorModal.classList.remove('show');
        };
    }

    // Список запрещённых слов для проверки
    const globalBadWords = [
      'говно', 'хейт', 'порно', 'аноним', 'admin', 'админ', 'moder', 'модер', 'модератор',
      'продавец премиума', 'seller of premium', 'seller of premium account', 'премиум', 'премиум пользователь',
      'premium user', 'пользователь премиума', 'user of premium', 'user of premium account', '*', '"', "'",
      'сука', 'пидор', 'пидорас', 'мразь', 'ублюдок', 'тварь', 'хуй', 'хер', 'еблан', 'ебанат', 'даун',
      'дебил', 'идиот', 'чмо', 'гнида', 'тупой', 'блядь', 'бля', 'хуесос', 'нахуй', 'пошел нахуй',
      'иди нахуй', 'урод', 'скотина', 'сволочь', 'мудак', 'петух', 'шлюха', 'проститутка', 'сучка',
      'падла', 'долбоеб', 'долбаеб', 'ебаный', 'ебать', 'залупа', 'пизда', 'пиздец', 'fuck', 'fucking',
      'bitch', 'asshole', 'bastard', 'dick', 'cock', 'pussy', 'shit', 'slut', 'whore', 'cunt', 'motherfucker',
      'nigger', 'nigga', 'retard', 'stupid', 'idiot', 'dumbass', 'loser', 'jerk', 'gay', 'fag', 'faggot',
      'suck', 'sucker', 'kill yourself', 'kms', 'puta', 'gilipollas', 'mierda', 'pendejo', 'cabron', 'maricon',
      'coño', 'idiota', 'imbecil', 'tonto', 'perra', 'arschloch', 'scheisse', 'hurensohn', 'fotze', 'wichser',
      'dummkopf', 'connard', 'salope', 'pute', 'merde', 'enculé', 'con', 'stronzo', 'coglione', 'puttana',
      'troia', 'cretino', 'merda', 'caralho', 'filho da puta', 'otário', 'burro', 'sharmuta', 'ibn kalb',
      'ibn al sharmuta', 'kalb', 'khara', 'jahel', 'madarchod', 'behenchod', 'chutiya', 'bhosdike', 'lund',
      'randi', 'harami', 'orospu', 'siktir', 'amk', 'mal', 'aptal', 'gerizekali', 'kurwa', 'pierdol', 'chuj',
      'jebac', 'debil', 'anjing', 'bangsat', 'kontol', 'memek', 'tolol', 'bodoh', 'shabi', 'caonima', 'gou ri',
      'sb', 'ni ma', 'ssibal', 'gaesaekki', 'jot', 'meongcheong', 'baegopa', 'хентай', 'hentai', 'минет',
      'minet', 'эротика', 'erotica'
    ];

    // Функция проверки на плохие слова
    function containsBadWords(text) {
      if (!text) return false;
      const lowerText = text.toLowerCase();
      return globalBadWords.some(word => lowerText.includes(word));
    }

    // Функция для модального ввода текста (замена prompt)
    function showInputModal(message, placeholderText = '') {
        return new Promise((resolve) => {
            let inputModal = document.getElementById('input-modal');
            
            if (!inputModal) {
                const style = document.createElement('style');
                style.textContent = `
                    #input-modal {
                        display: none;
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0,0,0,0.7);
                        justify-content: center;
                        align-items: center;
                        z-index: 10000;
                    }
                    #input-modal.show {
                        display: flex;
                    }
                    #input-modal-content {
                        background: linear-gradient(180deg, #0d0870, #0b0862);
                        padding: 25px;
                        border-radius: 16px;
                        text-align: center;
                        max-width: 400px;
                        width: 90%;
                        border: 1px solid #5f57ff;
                        box-shadow: 0 0 30px rgba(95,87,255,0.3);
                    }
                    #input-modal-message {
                        color: #e0e0ff;
                        margin-bottom: 15px;
                        word-wrap: break-word;
                    }
                    #input-modal-input {
                        width: 100%;
                        padding: 10px;
                        margin-bottom: 15px;
                        border: 1px solid rgba(255,255,255,0.3);
                        border-radius: 8px;
                        background: rgba(255,255,255,0.1);
                        color: #e0e0ff;
                        font-size: 1rem;
                        box-sizing: border-box;
                    }
                    #input-modal-input::placeholder {
                        color: rgba(255,255,255,0.5);
                    }
                    #input-modal-buttons {
                        display: flex;
                        gap: 10px;
                        justify-content: center;
                    }
                    .input-modal-btn {
                        background: linear-gradient(180deg, #251897, #1b1280);
                        color: #d9d9d9;
                        border: 1px solid rgba(255,255,255,0.08);
                        padding: 10px 20px;
                        border-radius: 12px;
                        cursor: pointer;
                        font-size: 1rem;
                        font-weight: 600;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.35);
                        flex: 1;
                        max-width: 120px;
                    }
                `;
                document.head.appendChild(style);
                
                const modalHtml = `
                    <div id="input-modal">
                        <div id="input-modal-content">
                            <p id="input-modal-message"></p>
                            <input id="input-modal-input" type="text">
                            <div id="input-modal-buttons">
                                <button class="input-modal-btn" id="input-modal-ok">OK</button>
                                <button class="input-modal-btn" id="input-modal-cancel">Cancel</button>
                            </div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHtml);
                
                inputModal = document.getElementById('input-modal');
                const okBtn = document.getElementById('input-modal-ok');
                const cancelBtn = document.getElementById('input-modal-cancel');
                const inputField = document.getElementById('input-modal-input');
                
                okBtn.addEventListener('click', () => {
                    inputModal.classList.remove('show');
                    resolve(inputField.value);
                });
                
                cancelBtn.addEventListener('click', () => {
                    inputModal.classList.remove('show');
                    resolve(null);
                });
                
                inputField.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        inputModal.classList.remove('show');
                        resolve(inputField.value);
                    }
                });
            }
            
            inputModal = document.getElementById('input-modal');
            const inputField = document.getElementById('input-modal-input');
            document.getElementById('input-modal-message').textContent = message;
            inputField.placeholder = placeholderText;
            inputField.value = '';
            inputModal.classList.add('show');
            inputField.focus();
        });
    }
    
    const translations = {
      en: {
        title: "Premium Features",
        heading: "Premium Features",
        backButton: "Return to Main Menu",
        items: [
          '1. The maximum number of characters in the "Description" generator increases from 200 to 1,000.',
          '2. The maximum number of characters in the "Nickname" generator increases from 18 to 60.',
          '3. Ability to share created music in the "Music" generator.',
          '4. Ability to share created avatar in the "Avatar" generator.',
          '5. Ability to share created QR codes in the "QR" generator.',
          '6. Ability to upload your own font in the "Avatar" generator.',
          '7. Ability to draw your own avatar shape in the "Avatar" generator.',
          '8. The shop will update every 1 minute instead of every 2 minutes in the "Shop".',
          '9. Ability to collect missed rewards in the "Tasks and Rewards" section.'
        ],
        buyButton: "Buy Premium",
        removePremiumButton: "Remove Premium",
        confirmRemovePrompt: "Type REMOVE to confirm removing Premium",
        removeSuccess: "Premium removed",
        removeCancelled: "Action cancelled",
        modalTitle: "Enter Promo Code",
        buyInfo: "You can buy it from @Clickerstart_bot https://t.me/Clickerstart_bot",
        inputPlaceholder: "Promo Code",
        submitButton: "Submit",
        success: "Premium activated!",
        error: "Invalid promo code",
        premiumMessage: "You are a Premium user!"
      },
      ru: {
        title: "Возможности Премиума",
        heading: "Возможности премиума",
        backButton: "Вернуться в главное меню",
        items: [
          '1. Максимальное количество символов в генераторе "Описание" увеличевается с 200 до 1 000',
          '2. Максимальное количество символов в генераторе "Никнейм" увеличевается с 18 до 60',
          '3. Возможность делиться созданной музыкой в генераторе "Музыка"',
          '4. Возможность делиться созданной аватаркой в генераторе "Аватарка"',
          '5. Возможность делиться созданным QR-кодом',
          '6. Возможность загружать свой шрифт в генераторе "Аватарка"',
          '7. Возможность рисовать свою форму аватарки в генераторе "Аватарка"',
          '8. Обновление магазина будет происходить не каждые 2 минуты, а каждую 1 минуту в "Магазин"',
          '9. Возможность собирать пропущенные награды в разделе "Задания и награды"'
        ],
        buyButton: "Купить Премиум",
        removePremiumButton: "Убрать Премиум",
        confirmRemovePrompt: "Введите УБРАТЬ чтобы подтвердить удаление премиума",
        removeSuccess: "Премиум удалён",
        removeCancelled: "Действие отменено",
        modalTitle: "Введите промокод",
        buyInfo: "Его можно купить у @Clickerstart_bot https://t.me/Clickerstart_bot",
        inputPlaceholder: "Промокод",
        submitButton: "Отправить",
        success: "Премиум активирован!",
        error: "Неверный промокод",
        premiumMessage: "Вы Премиум-пользователь!"
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      const lang = localStorage.getItem('lang') || 'en';
      const trans = translations[lang];
      document.title = trans.title;
      document.querySelector('h2').textContent = trans.heading;
      document.getElementById('backToMain').textContent = trans.backButton;

      const lis = document.querySelectorAll('ul li:not(:last-child)');
      trans.items.forEach((item, i) => { if (lis[i]) lis[i].textContent = item; });

      const modal = document.getElementById('promoModal');
      const closeModal = document.getElementById('closeModal');
      const promoInput = document.getElementById('promoInput');
      const submitPromo = document.getElementById('submitPromo');
      const buyInfo = document.getElementById('buyInfo');
      const modalTitle = document.getElementById('modalTitle');

      buyInfo.innerHTML = trans.buyInfo.replace('https://t.me/Clickerstart_bot', '<a href="https://t.me/Clickerstart_bot">https://t.me/Clickerstart_bot</a>');
      modalTitle.textContent = trans.modalTitle;
      promoInput.placeholder = trans.inputPlaceholder;
      submitPromo.textContent = trans.submitButton;

      document.getElementById('backToMain').addEventListener('click', () => window.location.href = 'main.html');

      const updatePremiumStatus = () => {
        const isPremium = localStorage.getItem('premium') === 'yes';
        const premiumLi = document.getElementById('premiumAction');
        if (isPremium) {
          premiumLi.innerHTML = `<button id="removePremium">${trans.removePremiumButton}</button>`;
          document.getElementById('removePremium').addEventListener('click', async () => {
            const confirmInput = await showInputModal(trans.confirmRemovePrompt);
            const requiredWord = lang === 'ru' ? 'УБРАТЬ' : 'REMOVE';
            if (confirmInput && confirmInput.toUpperCase() === requiredWord) {
              localStorage.removeItem('premium');
              showAlertModal(trans.removeSuccess);
              updatePremiumStatus();
            } else if (confirmInput !== null) showAlertModal(trans.removeCancelled);
          });
        } else {
          premiumLi.innerHTML = `<button id="buyPremium">${trans.buyButton}</button>`;
          document.getElementById('buyPremium').addEventListener('click', () => {
            modal.style.display = 'flex';
            promoInput.value = '';
            promoInput.focus();
          });
        }
      };

      updatePremiumStatus();

      closeModal.addEventListener('click', () => modal.style.display = 'none');
      window.addEventListener('click', (e) => { if (e.target === modal) modal.style.display = 'none'; });

      submitPromo.addEventListener('click', () => {
        const code = promoInput.value.trim();
        if (containsBadWords(code)) {
          showAlertModal(trans.error);
          promoInput.value = '';
          return;
        }
        promoInput.value = '';
        setTimeout(() => {
          if (code === "QWERTY") {
            localStorage.setItem('premium', 'yes');
            showAlertModal(trans.success);
            modal.style.display = 'none';
            updatePremiumStatus();
          } else showAlertModal(trans.error);
        }, 1000);
      });

      // Применяем настройки анимаций
      function applyAnimations() {
        if (localStorage.getItem('animations') === 'no') {
          document.body.classList.add('no-animations');
        } else {
          document.body.classList.remove('no-animations');
        }
      }
      applyAnimations();
    });
  </script>
<script src="apply_app_view.js"></script>
</body>
</html>