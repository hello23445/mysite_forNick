<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Создание шрифта для текста</title>
  <style>
    /* Фон страницы – градиент от ультрафиолетового к синему */
    body {
      background: linear-gradient(135deg, #74ABE2, #5563DE);
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    /* Контейнер располагается в верхней центральной части */
    .container {
      background: #E8F5E9; /* очень светлый зеленый оттенок */
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 500px;
      border: 2px solid #1B5E20; /* тёмно-зелёный */
      margin: 30px auto 0;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #0D47A1; /* тёмно-синий */
    }
    .input-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    input[type="text"] {
      flex: 1;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #64B5F6; /* светло-синий */
      border-radius: 5px;
      outline: none;
      transition: border-color 0.3s;
      background: #ffffff;
      color: #0D47A1;
    }
    input[type="text"]:focus {
      border-color: #0D47A1;
    }
    button.arrow {
      background: #0D47A1; /* тёмно-синий */
      border: none;
      color: #fff;
      font-size: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    button.arrow:hover {
      background: #1565C0;
    }
    /* Блок с опциями с анимацией разворачивания */
    .options-container {
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: max-height 1.3s ease, opacity 1s ease;
    }
    .options-container.visible {
      max-height: 1000px;
      opacity: 1;
    }
    select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #64B5F6;
      border-radius: 5px;
      outline: none;
      appearance: none;
      background: #ffffff url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%230D47A1'/%3E%3C/svg%3E") no-repeat right 10px center;
      background-size: 10px 6px;
      margin-top: 15px;
      color: #0D47A1;
    }
    .preview {
      padding: 15px;
      background: #BBDEFB; /* светлый синий оттенок */
      border: 1px dashed #64B5F6;
      border-radius: 5px;
      text-align: center;
      font-size: 20px;
      word-wrap: break-word;
      margin-top: 15px;
      color: #0D47A1;
    }
    .btn-group {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 15px;
    }
    .btn-group button {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s;
      color: #fff;
    }
    .btn-copy {
      background: #1B5E20; /* тёмно-зелёный */
    }
    .btn-copy:hover {
      background: #388E3C;
    }
    .btn-telegram {
      background: #0D47A1; /* тёмно-синий */
    }
    .btn-telegram:hover {
      background: #1565C0;
    }
    center h4 {
      margin: 0;
      padding: 5px;
      font-size: 14px;
      color: #0D47A1;
    }
  </style>
</head>
<body>
    <button 
    onclick="window.location.href = 'main.html'" 
    style="position: absolute; top: 10px; left: 10px; padding: 10px 20px; font-size: 16px;"
>
    ВЕРНУТЬСЯ В ГЛАВНОЕ МЕНЮ
    </button>

  <div class="container">
    <h1 id="cr1">Введите текст</h1>
    <div class="input-group">
      <input type="text" id="userText" maxlength="40" placeholder="Введите текст (до 40 символов)">
      <button id="arrowBtn" class="arrow" title="Далее" style="display: none;">&#10140;</button>
    </div>
    <div id="optionsContainer" class="options-container">
      <select id="fontSelect"></select>
      <div id="preview" class="preview"></div>
      <div class="btn-group">
        <button id="copyBtn" class="btn-copy">Скопировать</button>
        <button id="telegramBtn" class="btn-telegram">Поделиться в Telegram</button>
      </div>
      <center>
        <h4 id="h3"></h4>
      </center>
    </div>
  </div>

  <script>
    /* Список шрифтов.
       Здесь собраны оригинальные Google-шрифты, дополнительные блоки новых Google-шрифтов,
       а также 6 стилизованных вариантов (Волнистый, Зачеркнутый, Подчеркнутый, Жирный, Курсив, Моноширный).
    */
    const fonts = [
      // Оригинальный список (примерно 168 шрифтов)
      { name: "Roboto", style: "font-family: 'Roboto', sans-serif;" },
      { name: "Open Sans", style: "font-family: 'Open Sans', sans-serif;" },
      { name: "Lato", style: "font-family: 'Lato', sans-serif;" },
      { name: "Montserrat", style: "font-family: 'Montserrat', sans-serif;" },
      { name: "Oswald", style: "font-family: 'Oswald', sans-serif;" },
      { name: "Source Sans Pro", style: "font-family: 'Source Sans Pro', sans-serif;" },
      { name: "Slabo 27px", style: "font-family: 'Slabo 27px', serif;" },
      { name: "Raleway", style: "font-family: 'Raleway', sans-serif;" },
      { name: "PT Sans", style: "font-family: 'PT Sans', sans-serif;" },
      { name: "Merriweather", style: "font-family: 'Merriweather', serif;" },
      { name: "Roboto Condensed", style: "font-family: 'Roboto Condensed', sans-serif;" },
      { name: "Nunito", style: "font-family: 'Nunito', sans-serif;" },
      { name: "Ubuntu", style: "font-family: 'Ubuntu', sans-serif;" },
      { name: "Playfair Display", style: "font-family: 'Playfair Display', serif;" },
      { name: "Titillium Web", style: "font-family: 'Titillium Web', sans-serif;" },
      { name: "Fira Sans", style: "font-family: 'Fira Sans', sans-serif;" },
      { name: "Cabin", style: "font-family: 'Cabin', sans-serif;" },
      { name: "Roboto Slab", style: "font-family: 'Roboto Slab', serif;" },
      { name: "Anton", style: "font-family: 'Anton', sans-serif;" },
      { name: "Exo 2", style: "font-family: 'Exo 2', sans-serif;" },
      { name: "Quicksand", style: "font-family: 'Quicksand', sans-serif;" },
      { name: "Work Sans", style: "font-family: 'Work Sans', sans-serif;" },
      { name: "Arimo", style: "font-family: 'Arimo', sans-serif;" },
      { name: "Muli", style: "font-family: 'Muli', sans-serif;" },
      { name: "Nunito Sans", style: "font-family: 'Nunito Sans', sans-serif;" },
      { name: "Varela Round", style: "font-family: 'Varela Round', sans-serif;" },
      { name: "Pacifico", style: "font-family: 'Pacifico', cursive;" },
      { name: "Dosis", style: "font-family: 'Dosis', sans-serif;" },
      { name: "Fjalla One", style: "font-family: 'Fjalla One', sans-serif;" },
      { name: "Indie Flower", style: "font-family: 'Indie Flower', cursive;" },
      { name: "Abel", style: "font-family: 'Abel', sans-serif;" },
      { name: "Barlow", style: "font-family: 'Barlow', sans-serif;" },
      { name: "Libre Franklin", style: "font-family: 'Libre Franklin', sans-serif;" },
      { name: "Jost", style: "font-family: 'Jost', sans-serif;" },
      { name: "Prompt", style: "font-family: 'Prompt', sans-serif;" },
      { name: "Rubik", style: "font-family: 'Rubik', sans-serif;" },
      { name: "IBM Plex Sans", style: "font-family: 'IBM Plex Sans', sans-serif;" },
      { name: "Fira Sans Condensed", style: "font-family: 'Fira Sans Condensed', sans-serif;" },
      { name: "Exo", style: "font-family: 'Exo', sans-serif;" },
      { name: "Nanum Gothic", style: "font-family: 'Nanum Gothic', sans-serif;" },
      { name: "Vollkorn", style: "font-family: 'Vollkorn', serif;" },
      { name: "Josefin Sans", style: "font-family: 'Josefin Sans', sans-serif;" },
      { name: "PT Serif", style: "font-family: 'PT Serif', serif;" },
      { name: "Lora", style: "font-family: 'Lora', serif;" },
      { name: "Alegreya", style: "font-family: 'Alegreya', serif;" },
      { name: "Overpass", style: "font-family: 'Overpass', sans-serif;" },
      { name: "Arvo", style: "font-family: 'Arvo', sans-serif;" },
      { name: "Cabin Sketch", style: "font-family: 'Cabin Sketch', cursive;" },
      { name: "Crimson Text", style: "font-family: 'Crimson Text', serif;" },
      { name: "Cinzel", style: "font-family: 'Cinzel', serif;" },
      { name: "Cormorant Garamond", style: "font-family: 'Cormorant Garamond', serif;" },
      { name: "Oxygen", style: "font-family: 'Oxygen', sans-serif;" },
      { name: "Rokkitt", style: "font-family: 'Rokkitt', serif;" },
      { name: "Asap", style: "font-family: 'Asap', sans-serif;" },
      { name: "Catamaran", style: "font-family: 'Catamaran', sans-serif;" },
      { name: "Karla", style: "font-family: 'Karla', sans-serif;" },
      { name: "Play", style: "font-family: 'Play', sans-serif;" },
      { name: "Saira", style: "font-family: 'Saira', sans-serif;" },
      { name: "Acme", style: "font-family: 'Acme', sans-serif;" },
      { name: "Baloo", style: "font-family: 'Baloo', cursive;" },
      { name: "Bangers", style: "font-family: 'Bangers', cursive;" },
      { name: "Bebas Neue", style: "font-family: 'Bebas Neue', cursive;" },
      { name: "Black Han Sans", style: "font-family: 'Black Han Sans', sans-serif;" },
      { name: "Bubbler One", style: "font-family: 'Bubbler One', sans-serif;" },
      { name: "Bubblegum Sans", style: "font-family: 'Bubblegum Sans', cursive;" },
      { name: "Chewy", style: "font-family: 'Chewy', cursive;" },
      { name: "Chivo", style: "font-family: 'Chivo', sans-serif;" },
      { name: "Codystar", style: "font-family: 'Codystar', sans-serif;" },
      { name: "Comfortaa", style: "font-family: 'Comfortaa', cursive;" },
      { name: "Cuprum", style: "font-family: 'Cuprum', sans-serif;" },
      { name: "Damion", style: "font-family: 'Damion', cursive;" },
      { name: "Eczar", style: "font-family: 'Eczar', serif;" },
      { name: "El Messiri", style: "font-family: 'El Messiri', sans-serif;" },
      { name: "Elsie", style: "font-family: 'Elsie', cursive;" },
      { name: "Emblema One", style: "font-family: 'Emblema One', cursive;" },
      { name: "Francois One", style: "font-family: 'Francois One', sans-serif;" },
      { name: "Gloria Hallelujah", style: "font-family: 'Gloria Hallelujah', cursive;" },
      { name: "Graduate", style: "font-family: 'Graduate', cursive;" },
      { name: "Heebo", style: "font-family: 'Heebo', sans-serif;" },
      { name: "Hind", style: "font-family: 'Hind', sans-serif;" },
      { name: "Inconsolata", style: "font-family: 'Inconsolata', monospace;" },
      { name: "Istok Web", style: "font-family: 'Istok Web', sans-serif;" },
      { name: "K2D", style: "font-family: 'K2D', sans-serif;" },
      { name: "Kavivanar", style: "font-family: 'Kavivanar', cursive;" },
      { name: "KoHo", style: "font-family: 'KoHo', sans-serif;" },
      { name: "Kristi", style: "font-family: 'Kristi', cursive;" },
      { name: "Luckiest Guy", style: "font-family: 'Luckiest Guy', cursive;" },
      { name: "Macondo", style: "font-family: 'Macondo', cursive;" },
      { name: "Mandali", style: "font-family: 'Mandali', sans-serif;" },
      { name: "Marko One", style: "font-family: 'Marko One', sans-serif;" },
      { name: "Megrim", style: "font-family: 'Megrim', cursive;" },
      { name: "Merriweather Sans", style: "font-family: 'Merriweather Sans', sans-serif;" },
      { name: "Milonga", style: "font-family: 'Milonga', cursive;" },
      { name: "Modern Antiqua", style: "font-family: 'Modern Antiqua', cursive;" },
      { name: "Montserrat Alternates", style: "font-family: 'Montserrat Alternates', sans-serif;" },
      { name: "Mountains of Christmas", style: "font-family: 'Mountains of Christmas', cursive;" },
      { name: "Noto Sans", style: "font-family: 'Noto Sans', sans-serif;" },
      { name: "Noto Serif", style: "font-family: 'Noto Serif', serif;" },
      { name: "Noticia Text", style: "font-family: 'Noticia Text', serif;" },
      { name: "Oleo Script", style: "font-family: 'Oleo Script', cursive;" },
      { name: "Orbitron", style: "font-family: 'Orbitron', sans-serif;" },
      { name: "Oregano", style: "font-family: 'Oregano', cursive;" },
      { name: "Oxygen Mono", style: "font-family: 'Oxygen Mono', monospace;" },
      { name: "Passero One", style: "font-family: 'Passero One', sans-serif;" },
      { name: "Patua One", style: "font-family: 'Patua One', cursive;" },
      { name: "Permanent Marker", style: "font-family: 'Permanent Marker', cursive;" },
      { name: "Poppins", style: "font-family: 'Poppins', sans-serif;" },
      { name: "Press Start 2P", style: "font-family: 'Press Start 2P', cursive;" },
      { name: "Proza Libre", style: "font-family: 'Proza Libre', sans-serif;" },
      { name: "Puritan", style: "font-family: 'Puritan', sans-serif;" },
      { name: "Questrial", style: "font-family: 'Questrial', sans-serif;" },
      { name: "Radley", style: "font-family: 'Radley', serif;" },
      { name: "Rajdhani", style: "font-family: 'Rajdhani', sans-serif;" },
      { name: "Rasa", style: "font-family: 'Rasa', sans-serif;" },
      { name: "Red Hat Display", style: "font-family: 'Red Hat Display', sans-serif;" },
      { name: "Redressed", style: "font-family: 'Redressed', cursive;" },
      { name: "Reem Kufi", style: "font-family: 'Reem Kufi', sans-serif;" },
      { name: "Righteous", style: "font-family: 'Righteous', cursive;" },
      { name: "Roboto Mono", style: "font-family: 'Roboto Mono', monospace;" },
      { name: "Rosarivo", style: "font-family: 'Rosarivo', serif;" },
      { name: "Russo One", style: "font-family: 'Russo One', sans-serif;" },
      { name: "Sacramento", style: "font-family: 'Sacramento', cursive;" },
      { name: "Sanchez", style: "font-family: 'Sanchez', serif;" },
      { name: "Sarabun", style: "font-family: 'Sarabun', sans-serif;" },
      { name: "Seaweed Script", style: "font-family: 'Seaweed Script', cursive;" },
      { name: "Sedgwick Ave", style: "font-family: 'Sedgwick Ave', cursive;" },
      { name: "Sen", style: "font-family: 'Sen', sans-serif;" },
      { name: "Share Tech Mono", style: "font-family: 'Share Tech Mono', monospace;" },
      { name: "Short Stack", style: "font-family: 'Short Stack', cursive;" },
      { name: "Signika", style: "font-family: 'Signika', sans-serif;" },
      { name: "Six Caps", style: "font-family: 'Six Caps', cursive;" },
      { name: "Sniglet", style: "font-family: 'Sniglet', cursive;" },
      { name: "Special Elite", style: "font-family: 'Special Elite', cursive;" },
      { name: "Spicy Rice", style: "font-family: 'Spicy Rice', cursive;" },
      { name: "Staatliches", style: "font-family: 'Staatliches', sans-serif;" },
      { name: "Stint Ultra Condensed", style: "font-family: 'Stint Ultra Condensed', sans-serif;" },
      { name: "Sukhumvit Set", style: "font-family: 'Sukhumvit Set', sans-serif;" },
      { name: "Sunflower", style: "font-family: 'Sunflower', sans-serif;" },
      { name: "Teko", style: "font-family: 'Teko', sans-serif;" },
      { name: "Telex", style: "font-family: 'Telex', sans-serif;" },
      { name: "Tenor Sans", style: "font-family: 'Tenor Sans', sans-serif;" },
      { name: "Text Me One", style: "font-family: 'Text Me One', sans-serif;" },
      { name: "Tillana", style: "font-family: 'Tillana', cursive;" },
      { name: "Unica One", style: "font-family: 'Unica One', sans-serif;" },
      { name: "Unna", style: "font-family: 'Unna', serif;" },
      { name: "Varela", style: "font-family: 'Varela', sans-serif;" },
      { name: "Voltaire", style: "font-family: 'Voltaire', sans-serif;" },
      { name: "Wire One", style: "font-family: 'Wire One', sans-serif;" },
      { name: "Yeseva One", style: "font-family: 'Yeseva One', cursive;" },
      { name: "Yesteryear", style: "font-family: 'Yesteryear', cursive;" },
      { name: "ZCOOL KuaiLe", style: "font-family: 'ZCOOL KuaiLe', sans-serif;" },
      { name: "ZCOOL QingKe HuangYou", style: "font-family: 'ZCOOL QingKe HuangYou', sans-serif;" },
      { name: "ZCOOL YongHua", style: "font-family: 'ZCOOL YongHua', sans-serif;" },
      { name: "Zilla Slab", style: "font-family: 'Zilla Slab', sans-serif;" },
      // Дополнительные 14 шрифтов для достижения 168
      { name: "Abhaya Libre", style: "font-family: 'Abhaya Libre', serif;" },
      { name: "Adamina", style: "font-family: 'Adamina', serif;" },
      { name: "Aldrich", style: "font-family: 'Aldrich', sans-serif;" },
      { name: "Alfa Slab One", style: "font-family: 'Alfa Slab One', cursive;" },
      { name: "Alice", style: "font-family: 'Alice', serif;" },
      { name: "Allerta", style: "font-family: 'Allerta', sans-serif;" },
      { name: "Allerta Stencil", style: "font-family: 'Allerta Stencil', sans-serif;" },
      { name: "Amaranth", style: "font-family: 'Amaranth', sans-serif;" },
      { name: "Andada", style: "font-family: 'Andada', serif;" },
      { name: "Andika", style: "font-family: 'Andika', sans-serif;" },
      { name: "Angkor", style: "font-family: 'Angkor', sans-serif;" },
      { name: "Annie Use Your Telescope", style: "font-family: 'Annie Use Your Telescope', cursive;" },
      { name: "Anonymous Pro", style: "font-family: 'Anonymous Pro', monospace;" },
      { name: "B612", style: "font-family: 'B612', sans-serif;" },

      // 65 новых Google-шрифтов (первый блок новых)
      { name: "Archivo", style: "font-family: 'Archivo', sans-serif;" },
      { name: "Archivo Black", style: "font-family: 'Archivo Black', sans-serif;" },
      { name: "Archivo Narrow", style: "font-family: 'Archivo Narrow', sans-serif;" },
      { name: "Asap Condensed", style: "font-family: 'Asap Condensed', sans-serif;" },
      { name: "Arapey", style: "font-family: 'Arapey', serif;" },
      { name: "Arsenal", style: "font-family: 'Arsenal', sans-serif;" },
      { name: "Bitter", style: "font-family: 'Bitter', serif;" },
      { name: "Bree Serif", style: "font-family: 'Bree Serif', serif;" },
      { name: "Caveat", style: "font-family: 'Caveat', cursive;" },
      { name: "Caveat Brush", style: "font-family: 'Caveat Brush', cursive;" },
      { name: "Cormorant Upright", style: "font-family: 'Cormorant Upright', serif;" },
      { name: "Crimson Pro", style: "font-family: 'Crimson Pro', serif;" },
      { name: "Dancing Script", style: "font-family: 'Dancing Script', cursive;" },
      { name: "Fira Code", style: "font-family: 'Fira Code', monospace;" },
      { name: "Fira Mono", style: "font-family: 'Fira Mono', monospace;" },
      { name: "Galindo", style: "font-family: 'Galindo', cursive;" },
      { name: "Gentium Basic", style: "font-family: 'Gentium Basic', serif;" },
      { name: "Great Vibes", style: "font-family: 'Great Vibes', cursive;" },
      { name: "Hind Madurai", style: "font-family: 'Hind Madurai', sans-serif;" },
      { name: "Inknut Antiqua", style: "font-family: 'Inknut Antiqua', serif;" },
      { name: "Julius Sans One", style: "font-family: 'Julius Sans One', sans-serif;" },
      { name: "Kanit", style: "font-family: 'Kanit', sans-serif;" },
      { name: "Kalam", style: "font-family: 'Kalam', cursive;" },
      { name: "Kaushan Script", style: "font-family: 'Kaushan Script', cursive;" },
      { name: "Lobster", style: "font-family: 'Lobster', cursive;" },
      { name: "Maven Pro", style: "font-family: 'Maven Pro', sans-serif;" },
      { name: "Monda", style: "font-family: 'Monda', sans-serif;" },
      { name: "Nanum Brush Script", style: "font-family: 'Nanum Brush Script', cursive;" },
      { name: "Nanum Myeongjo", style: "font-family: 'Nanum Myeongjo', serif;" },
      { name: "Neuton", style: "font-family: 'Neuton', serif;" },
      { name: "Nixie One", style: "font-family: 'Nixie One', cursive;" },
      { name: "Old Standard TT", style: "font-family: 'Old Standard TT', serif;" },
      { name: "Palanquin", style: "font-family: 'Palanquin', sans-serif;" },
      { name: "Palanquin Dark", style: "font-family: 'Palanquin Dark', sans-serif;" },
      { name: "Playball", style: "font-family: 'Playball', cursive;" },
      { name: "Pontano Sans", style: "font-family: 'Pontano Sans', sans-serif;" },
      { name: "Prata", style: "font-family: 'Prata', serif;" },
      { name: "Quattrocento", style: "font-family: 'Quattrocento', serif;" },
      { name: "Quattrocento Sans", style: "font-family: 'Quattrocento Sans', sans-serif;" },
      { name: "Qwigley", style: "font-family: 'Qwigley', cursive;" },
      { name: "Rubik Mono One", style: "font-family: 'Rubik Mono One', monospace;" },
      { name: "Ruda", style: "font-family: 'Ruda', sans-serif;" },
      { name: "Ruluko", style: "font-family: 'Ruluko', sans-serif;" },
      { name: "Saira Condensed", style: "font-family: 'Saira Condensed', sans-serif;" },
      { name: "Saira Semi Condensed", style: "font-family: 'Saira Semi Condensed', sans-serif;" },
      { name: "Saira Extra Condensed", style: "font-family: 'Saira Extra Condensed', sans-serif;" },
      { name: "Sarala", style: "font-family: 'Sarala', sans-serif;" },
      { name: "Sarina", style: "font-family: 'Sarina', sans-serif;" },
      { name: "Scada", style: "font-family: 'Scada', sans-serif;" },
      { name: "Secular One", style: "font-family: 'Secular One', sans-serif;" },
      { name: "Shadows Into Light", style: "font-family: 'Shadows Into Light', cursive;" },
      { name: "Signika Negative", style: "font-family: 'Signika Negative', sans-serif;" },
      { name: "Sintony", style: "font-family: 'Sintony', sans-serif;" },

      // ЕЩЁ дополнительные 65 новых Google-шрифтов (второй блок новых)
      { name: "Aguafina Script", style: "font-family: 'Aguafina Script', cursive;" },
      { name: "Alatsi", style: "font-family: 'Alatsi', sans-serif;" },
      { name: "Allan", style: "font-family: 'Allan', sans-serif;" },
      { name: "Amatic SC", style: "font-family: 'Amatic SC', cursive;" },
      { name: "Architects Daughter", style: "font-family: 'Architects Daughter', cursive;" },
      { name: "Arima Madurai", style: "font-family: 'Arima Madurai', sans-serif;" },
      { name: "Armata", style: "font-family: 'Armata', sans-serif;" },
      { name: "Artifika", style: "font-family: 'Artifika', serif;" },
      { name: "Asul", style: "font-family: 'Asul', sans-serif;" },
      { name: "Assistant", style: "font-family: 'Assistant', sans-serif;" },
      { name: "Atkinson Hyperlegible", style: "font-family: 'Atkinson Hyperlegible', sans-serif;" },
      { name: "Audiowide", style: "font-family: 'Audiowide', cursive;" },
      { name: "Autour One", style: "font-family: 'Autour One', sans-serif;" },
      { name: "Average Sans", style: "font-family: 'Average Sans', sans-serif;" },
      { name: "Bad Script", style: "font-family: 'Bad Script', cursive;" },
      { name: "Balsamiq Sans", style: "font-family: 'Balsamiq Sans', sans-serif;" },
      { name: "Barlow Condensed", style: "font-family: 'Barlow Condensed', sans-serif;" },
      { name: "Be Vietnam Pro", style: "font-family: 'Be Vietnam Pro', sans-serif;" },
      { name: "Bellefair", style: "font-family: 'Bellefair', serif;" },
      { name: "BenchNine", style: "font-family: 'BenchNine', sans-serif;" },
      { name: "Berkshire Swash", style: "font-family: 'Berkshire Swash', cursive;" },
      { name: "Big Shoulders Display", style: "font-family: 'Big Shoulders Display', sans-serif;" },
      { name: "Big Shoulders Inline Display", style: "font-family: 'Big Shoulders Inline Display', sans-serif;" },
      { name: "Big Shoulders Stencil Display", style: "font-family: 'Big Shoulders Stencil Display', sans-serif;" },
      { name: "Big Shoulders Text", style: "font-family: 'Big Shoulders Text', sans-serif;" },
      { name: "Bilbo", style: "font-family: 'Bilbo', cursive;" },
      { name: "Black Ops One", style: "font-family: 'Black Ops One', sans-serif;" },
      { name: "Bokor", style: "font-family: 'Bokor', sans-serif;" },
      { name: "Bonbon", style: "font-family: 'Bonbon', cursive;" },
      { name: "Bowlby One", style: "font-family: 'Bowlby One', sans-serif;" },
      { name: "Bowlby One SC", style: "font-family: 'Bowlby One SC', sans-serif;" },
      { name: "Brawler", style: "font-family: 'Brawler', sans-serif;" },
      { name: "Butcherman", style: "font-family: 'Butcherman', cursive;" },
      { name: "Cabin Condensed", style: "font-family: 'Cabin Condensed', sans-serif;" },
      { name: "Cagliostro", style: "font-family: 'Cagliostro', sans-serif;" },
      { name: "Cambo", style: "font-family: 'Cambo', serif;" },
      { name: "Candal", style: "font-family: 'Candal', sans-serif;" },
      { name: "Cantarell", style: "font-family: 'Cantarell', sans-serif;" },
      { name: "Cardo", style: "font-family: 'Cardo', serif;" },
      { name: "Carme", style: "font-family: 'Carme', sans-serif;" },
      { name: "Carrois Gothic", style: "font-family: 'Carrois Gothic', sans-serif;" },
      { name: "Carrois Gothic SC", style: "font-family: 'Carrois Gothic SC', sans-serif;" },
      { name: "Carter One", style: "font-family: 'Carter One', cursive;" },
      { name: "Ceviche One", style: "font-family: 'Ceviche One', sans-serif;" },
      { name: "Changa", style: "font-family: 'Changa', sans-serif;" },
      { name: "Chango", style: "font-family: 'Chango', sans-serif;" },
      { name: "Charm", style: "font-family: 'Charm', cursive;" },
      { name: "Chela One", style: "font-family: 'Chela One', sans-serif;" },
      { name: "Cherry Cream Soda", style: "font-family: 'Cherry Cream Soda', cursive;" },
      { name: "Chicle", style: "font-family: 'Chicle', sans-serif;" },
      { name: "Cinzel Decorative", style: "font-family: 'Cinzel Decorative', serif;" },
      { name: "Clicker Script", style: "font-family: 'Clicker Script', cursive;" },
      { name: "Coda", style: "font-family: 'Coda', sans-serif;" },
      { name: "Coda Caption", style: "font-family: 'Coda Caption', sans-serif;" },
      { name: "Concert One", style: "font-family: 'Concert One', sans-serif;" },
      { name: "Condiment", style: "font-family: 'Condiment', cursive;" },
      { name: "Contrail One", style: "font-family: 'Contrail One', cursive;" },
      { name: "Cookie", style: "font-family: 'Cookie', cursive;" },
      { name: "Copse", style: "font-family: 'Copse', serif;" },
      { name: "Corben", style: "font-family: 'Corben', sans-serif;" },
      { name: "Courgette", style: "font-family: 'Courgette', cursive;" },
      { name: "Cousine", style: "font-family: 'Cousine', monospace;" },
      { name: "Covered By Your Grace", style: "font-family: 'Covered By Your Grace', cursive;" },
      { name: "Crafty Girls", style: "font-family: 'Crafty Girls', cursive;" },
      { name: "Crete Round", style: "font-family: 'Crete Round', serif;" },

      // 6 стилизованных вариантов (не подключаются через Google Fonts)
      { name: "Волнистый", style: "text-decoration-line: underline; text-decoration-style: wavy;", google: false },
      { name: "Зачеркнутый", style: "text-decoration: line-through;", google: false },
      { name: "Подчеркнутый", style: "text-decoration: underline;", google: false },
      { name: "Жирный", style: "font-weight: bold;", google: false },
      { name: "Курсив", style: "font-style: italic;", google: false },
      { name: "Моноширный", style: "font-family: monospace;", google: false }
    ];

    // Для каждого шрифта создаём элемент <link> для подключения с Google Fonts, если он является Google‑шрифтом
    fonts.forEach(font => {
      if (font.google !== false) {
        const fontFamilyName = font.name.replace(/ /g, '+');
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://fonts.googleapis.com/css2?family=' + fontFamilyName + '&display=swap';
        document.head.appendChild(link);
      }
    });

    const userTextInput = document.getElementById("userText");
    const arrowBtn = document.getElementById("arrowBtn");
    const optionsContainer = document.getElementById("optionsContainer");
    const fontSelect = document.getElementById("fontSelect");
    const preview = document.getElementById("preview");
    const copyBtn = document.getElementById("copyBtn");
    const telegramBtn = document.getElementById("telegramBtn");
    const hintText = document.getElementById("h3");

    // Обновление текста в опциях селекта
    function updateSelectOptions() {
      for (let i = 0; i < fontSelect.options.length; i++) {
        fontSelect.options[i].text = `(${fonts[i].name}) ${userTextInput.value}`;
      }
    }

    // Показываем кнопку-стрелку, если введён хоть один символ
    userTextInput.addEventListener("input", () => {
      if (userTextInput.value.trim().length > 0) {
        arrowBtn.style.display = "block";
      } else {
        arrowBtn.style.display = "none";
      }
      if (optionsContainer.classList.contains("visible")) {
        updateSelectOptions();
        updatePreview();
      }
    });

    // При клике на стрелку – заполняем селект (если ещё не заполнен) и показываем блок с опциями с анимацией "открытия вниз"
    arrowBtn.addEventListener("click", () => {
      if (fontSelect.options.length === 0) {
        if (localStorage.getItem('created_fonts')){
          localStorage.setItem('created_fonts', String(Number(localStorage.getItem('created_fonts')) + 1));
        }
        else{
            localStorage.setItem('created_fonts', '1');
        }
        hintText.textContent = '(Советуем выделить текст и скопировать его вручную)';
        document.querySelector('#cr1').textContent = 'Выберите шрифт';
        fonts.forEach((font, index) => {
          const option = document.createElement("option");
          option.value = index;
          option.text = `(${font.name}) ${userTextInput.value}`;
          option.setAttribute("style", font.style);
          fontSelect.add(option);
        });
      } else {
        updateSelectOptions();
      }
      optionsContainer.style.display = "block";
      // Добавляем класс visible для запуска анимации "разворачивания"
      setTimeout(() => {
        optionsContainer.classList.add("visible");
      }, 10);
      updatePreview();
    });

    fontSelect.addEventListener("change", updatePreview);

    // Обновление предпросмотра – отображается только текст с выбранным шрифтом
    function updatePreview() {
      const selectedFont = fonts[fontSelect.value] || fonts[0];
      preview.innerHTML = `<span style="${selectedFont.style}">${escapeHtml(userTextInput.value)}</span>`;
    }

    // Экранирование HTML-сущностей для безопасности
    function escapeHtml(text) {
      const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
      };
      return text.replace(/[&<>"']/g, m => map[m]);
    }

    // Обработчик копирования: копируется HTML с выбранным шрифтом
    copyBtn.addEventListener("click", () => {
      const htmlData = preview.innerHTML;
      const textData = userTextInput.value;
      const blobHtml = new Blob([htmlData], { type: "text/html" });
      const blobText = new Blob([textData], { type: "text/plain" });
      const data = [ new ClipboardItem({ "text/html": blobHtml, "text/plain": blobText }) ];
      navigator.clipboard.write(data)
        .then(() => {
          copyBtn.textContent = "Скопировано!";
          setTimeout(() => copyBtn.textContent = "Скопировать", 1500);
        })
        .catch(err => {
          alert("Ошибка копирования: " + err);
        });
    });

    // Обработка события copy для ручного копирования из блока предпросмотра
    preview.addEventListener("copy", function(e) {
      e.preventDefault();
      const htmlData = preview.innerHTML;
      const textData = userTextInput.value;
      if (e.clipboardData) {
        e.clipboardData.setData("text/html", htmlData);
        e.clipboardData.setData("text/plain", textData);
      } else if (window.clipboardData) {
        window.clipboardData.setData("Text", textData);
      }
    });

    // Поделиться в Telegram (только текст)
    telegramBtn.addEventListener("click", () => {
      const textToShare = encodeURIComponent(userTextInput.value);
      const telegramUrl = `https://telegram.me/share/url?url=${textToShare}`;

      window.open(telegramUrl, '_blank');
    });
  </script>
</body> 
</html>
