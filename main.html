<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <div id="bg"></div>

    <div id="maintenance">
        <h2 data-translate="maintenance" id="maintenanceM"></h2>
    </div>

    <div class="top-bar" id="mainTopBar">
        <h4 class="coins" id="coins">0</h4>
        <button class="icon-btn" id="sideMenuBtn" title="Menu"><i class="fa-solid fa-bars"></i></button>
    </div>

    <div class="main" id="mainMenu">
        <h2 data-translate="main" id="mainM"></h2>
        <div class="buttons-container" id="featureButtons"></div>
    </div>

    <div id="settingsMenu">
        <div class="top-bar" id="settingsTopBar">
            <button class="icon-btn" id="backBtn" title="Back"><i class="fa-solid fa-arrow-left"></i></button>
            <span class="title" data-translate="settingsTitle" id="settingsTitle"></span>
            <span style="width:36px; height:36px;"></span>
        </div>
        <div class="settings-wrap">
            <div class="row">
                <div class="card">
                    <div class="card-header">
                        <h3 data-translate="langSectionTitle">Язык / Language</h3>
                        <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-up"></i></button>
                    </div>
                    <div class="collapsible-content" style="display: block;">
                        <div class="field">
                            <div class="lang-field">
                                <i class="fa-solid fa-globe" style="font-size: 18px;"></i>
                                <select id="langSelect"></select>
                            </div>
                            <div class="card" style="width: 100%;">
                                <div class="card-header">
                                    <h3 id="showmytokentext">Показать мой токен пользователя</h3>
                                    <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                                </div>
                                <div style="display: none; margin-top: 1%;">
                                    <button class="btn" id="tok"><i class="fa-solid fa-key left-icon"></i><span>Token</span></button>
                                    <p style="margin-top: 0%; margin-bottom: 0%; color: rgb(210, 209, 209);" id="userTokenWarning"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 data-translate="statSectionTitle" id="stat_setting_text"></h3>
                        <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                    </div>
                    <div class="collapsible-content" style="display: none;" id="stat_setting">
                        <select id="statSelect" onchange="localStorage.setItem('statistic_turn', this.value === 'yes' ? 'yes' : 'no')">
                            <option value="yes">Собирать данные для статистики</option>
                            <option value="no">Не собирать данные для статистики</option>
                        </select>
                        <button class="btn" id="clear" onclick="clearAllStatistic()" style="margin-top: 2%;">Очистить все данные статистики</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 data-translate="accountSectionTitle" id="account-settings"></h3>
                        <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                    </div>
                    <div style="display: none;">
                        <div class="card" style="display: none; margin-top: 1%;" id="my_idBox">
                            <div class="card-header">
                                <h3 id="my_idHeader">Мой Telegram ID</h3>
                                <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div style="display: none; margin-top: 1%;">
                                <button id="myID" class="btn">Ваш Telegram ID</button>
                            </div>
                        </div>
                        <button class="btn" id="localStorageClearbtn" style="display: none; margin-top: 2%;" onclick="if (confirm('Очистить весь localStorage?')){localStorage.clear(); window.location.href = 'index.html'}">Очистить весь localStorage</button>
                        <button class="btn" id="userID-confirming" onclick="window.location.href = 'set_telegram_id.html'">Привязать или изменить свой Telegram ID</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 data-translate="backgroundSectionTitle"></h3>
                        <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                    </div>
                    <div style="display: none;">
                        <div class="card" style="margin-bottom: 8px; margin-top: 2%;">
                            <div class="card-header">
                                <h3 data-translate="backgroundSubTitle"></h3>
                                <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div style="display: none; margin-top: 1%;">
                                <select id="theme"></select>
                                <div id="customUpload" style="display:none; margin-top:8px;">
                                    <button class="btn" id="uploadCustom" data-translate="uploadCustomBg"></button>
                                </div>
                                <div style="margin-top:8px; display:flex; align-items:center; gap:8px;" id="blurBackground_settingShow">
                                    <label class="label" data-translate="blurBackground" for="blurToggle"></label>
                                    <input type="checkbox" id="blurToggle" />
                                </div>
                            </div>
                        </div>

                        <div class="card" style="margin-top: 3%;">
                            <div class="card-header">
                                <h3 data-translate="animationsSubTitle"></h3>
                                <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                            </div>
                            <div style="display: none; margin-top: 2%;">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <label class="label" data-translate="animations" for="animationsToggle"></label>
                                    <input type="checkbox" id="animationsToggle" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 data-translate="supportSectionTitle">Поддержка</h3>
                        <button class="icon-btn toggle-btn"><i class="fa-solid fa-caret-down"></i></button>
                    </div>
                    <div class="collapsible-content" style="display: none;">
                        <div class="settings-buttons" id="settingsButtons"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay"></div>

    <div id="sideMenu">
        <div class="top-bar" id="sideTopBar">
            <button class="icon-btn" id="sideCloseBtn" title="Close"><i class="fa-solid fa-arrow-left"></i></button>
            <span class="title" data-translate="menuTitle"></span>
            <span style="width:36px; height:36px;"></span>
        </div>
        <div class="side-wrap" style="padding:16px 12px;">
            <div class="side-buttons" id="sideButtons"></div>
        </div>
    </div>
<div id="customMenu">
  <div id="copyBtn">Копировать</div>
  <div id="selectBtn">Выделить</div>
</div>

    <!-- Красивое окно с кодом верификации -->
    <div id="verificationModalContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
    <script src="script.js" type="module"></script>
</body>
</html>